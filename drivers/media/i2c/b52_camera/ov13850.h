/* Marvell ISP OV13850 Driver
 *
 * Copyright (C) 2009-2010 Marvell International Ltd.
 *
 * Based on mt9v011 -Micron 1/4-Inch VGA Digital Image OV13850
 *
 * Copyright (c) 2009 Mauro Carvalho Chehab (mchehab@redhat.com)
 * This code is placed under the terms of the GNU General Public License v2
 */

#ifndef	B52_OV13850_H
#define	B52_OV13850_H

#include <media/b52_api.h>
#include <media/b52-sensor.h>
#include <media/b52_api.h>
#define OTP_DRV_START_ADDR  0x7220
#define OTP_DRV_INFO_GROUP_COUNT  3
#define OTP_DRV_INFO_SIZE  5
#define OTP_DRV_AWB_GROUP_COUNT 3
#define OTP_DRV_AWB_SIZE  5
#define OTP_DRV_LSC_GROUP_COUNT  3
#define OTP_DRV_LSC_SIZE  62
#define OTP_DRV_LSC_REG_ADDR  0x5200
#define OTP_DRV_VCM_GROUP_COUNT  3
#define OTP_DRV_VCM_SIZE  3
#define bg_ratio_typical 0x400
#define rg_ratio_typical 0x400

/* raw10,XVCLK=24Mhz, SCLK=4x120Mhz, MIPI 640Mbps, DACCLK=240Mhz */
struct regval_tab ov13850_8M_res_init[] = {
	{0x0103, 0x01},
	{SENSOR_MDELAY, SENSOR_MDELAY, 5},
	{0x0301, 0x00},
	{0x0302, 0x26},
	{0x0303, 0x00},
	{0x030a, 0x00},
	{0x300f, 0x11},
	{0x3010, 0x01},
	{0x3011, 0x76},
	{0x3012, 0x41},
	{0x3013, 0x12},
	{0x3014, 0x11},
	{0x301f, 0x03},
	{0x3106, 0x00},
	{0x3210, 0x47},
	{0x3500, 0x00},
	{0x3501, 0xc0},
	{0x3502, 0x00},
	{0x3506, 0x00},
	{0x3507, 0x02},
	{0x3508, 0x00},
	{0x350a, 0x00},
	{0x350b, 0x80},
	{0x350e, 0x00},
	{0x350f, 0x10},
	{0x3600, 0x40},
	{0x3601, 0xfc},
	{0x3602, 0x02},
	{0x3603, 0x48},
	{0x3604, 0xa5},
	{0x3605, 0x9f},
	{0x3607, 0x00},
	{0x360a, 0x40},
	{0x360b, 0x91},
	{0x360c, 0x49},
	{0x360f, 0x8a},
	{0x3611, 0x10},
	{0x3613, 0x33},
	{0x3614, 0x25},
	{0x3615, 0x08},
	{0x3641, 0x02},
	{0x3660, 0x82},
	{0x3668, 0x54},
	{0x3669, 0x00},
	{0x3667, 0xa0},
	{0x3702, 0x40},
	{0x3703, 0x44},
	{0x3704, 0x2c},
	{0x3705, 0x24},
	{0x3706, 0x50},
	{0x3707, 0x44},
	{0x3708, 0x3c},
	{0x3709, 0x1f},
	{0x370b, 0x3c},
	{0x3720, 0x66},
	{0x3722, 0x84},
	{0x3728, 0x40},
	{0x372e, 0x22},
	{0x3730, 0x00},
	{0x3731, 0x00},
	{0x3732, 0x00},
	{0x3733, 0x00},
	{0x3748, 0x00},
	{0x3710, 0x28},
	{0x3716, 0x03},
	{0x3718, 0x10},
	{0x3719, 0x08},
	{0x371c, 0xfc},
	{0x3760, 0x13},
	{0x3761, 0x34},
	{0x3762, 0x86},
	{0x3763, 0x16},
	{0x3767, 0x24},
	{0x3768, 0x06},
	{0x3769, 0x45},
	{0x376c, 0x23},
	{0x3d84, 0x00},
	{0x3d85, 0x17},
	{0x3d8c, 0x73},
	{0x3d8d, 0xbf},
	{0x3834, 0x00},
	{0x3835, 0x1c},
	{0x4000, 0xf1},
	{0x4001, 0x00},
	{0x400b, 0x0c},
	{0x4011, 0x00},
	{0x401a, 0x00},
	{0x401b, 0x00},
	{0x401c, 0x00},
	{0x401d, 0x00},
	{0x4028, 0x00},
	{0x4029, 0x02},
	{0x402a, 0x04},
	{0x402b, 0x08},
	{0x402c, 0x02},
	{0x402d, 0x02},
	{0x402e, 0x0c},
	{0x402f, 0x08},
	{0x403d, 0x2c},
	{0x403f, 0x7f},
	{0x4500, 0x82},
	{0x4501, 0x38},
	{0x4601, 0x04},
	{0x4602, 0x22},
	{0x4800, 0x24}, /*gate mode for marvell*/
	{0x4d00, 0x04},
	{0x4d01, 0x42},
	{0x4d02, 0xd1},
	{0x4d03, 0x90},
	{0x4d04, 0x66},
	{0x4d05, 0x65},
	{0x5000, 0x0e},
	{0x5001, 0x01},
	{0x5002, 0x07},
	{0x5013, 0x40},
	{0x501c, 0x00},
	{0x501d, 0x10},
	{0x5242, 0x00},
	{0x5243, 0xb8},
	{0x5244, 0x00},
	{0x5245, 0xf9},
	{0x5246, 0x00},
	{0x5247, 0xf6},
	{0x5248, 0x00},
	{0x5249, 0xa6},
	{0x5300, 0xfc},
	{0x5301, 0xdf},
	{0x5302, 0x3f},
	{0x5303, 0x08},
	{0x5304, 0x0c},
	{0x5305, 0x10},
	{0x5306, 0x20},
	{0x5307, 0x40},
	{0x5308, 0x08},
	{0x5309, 0x08},
	{0x530a, 0x02},
	{0x530b, 0x01},
	{0x530c, 0x01},
	{0x530d, 0x0c},
	{0x530e, 0x02},
	{0x530f, 0x01},
	{0x5310, 0x01},
	{0x5400, 0x00},
	{0x5402, 0x00},
	{0x5403, 0x00},
	{0x5404, 0x00},
	{0x540c, 0x05},
	{0x5b00, 0x00},
	{0x5b01, 0x00},
	{0x5b02, 0x01},
	{0x5b03, 0xff},
	{0x5b04, 0x02},
	{0x5b05, 0x6c},
	{0x5b09, 0x02},
	{0x5e00, 0x00},
	{0x5e10, 0x1c},
/*8M 30fps*/
	{0x0300, 0x00},/*for 988Mbps */
	{0x3612, 0x07},/*for 123.5Mhz sysclk*/
	{0x370a, 0x24},
	{0x372a, 0x04},
	{0x372f, 0xa0},
	{0x3800, 0x01},
	{0x3801, 0xec},
	{0x3802, 0x01},
	{0x3803, 0x5c},
	{0x3804, 0x0e},
	{0x3805, 0xb3},
	{0x3806, 0x0a},
	{0x3807, 0xf3},
	{0x3808, 0x0c},
	{0x3809, 0xc0},
	{0x380a, 0x09},
	{0x380b, 0x90},
	{0x380c, 0x15},
	{0x380d, 0x80},
	{0x380e, 0x0b},/*30fps*/
	{0x380f, 0x60},
	{0x3810, 0x00},
	{0x3811, 0x04},
	{0x3812, 0x00},
	{0x3813, 0x04},
	{0x3814, 0x11},
	{0x3815, 0x11},
	{0x3820, 0x00},
	{0x3821, 0x04},
	{0x3836, 0x04},
	{0x3837, 0x01},
	{0x4020, 0x00},
	{0x4021, 0xe6},
	{0x4022, 0x0b},
	{0x4023, 0xde},
	{0x4024, 0x0c},
	{0x4025, 0xc0},
	{0x4026, 0x0c},
	{0x4027, 0xc6},
	{0x4603, 0x01},
	{0x4837, 0x10},
	{0x5401, 0x71},
	{0x5405, 0x80},
	{0x3503, 0x23},
};

struct regval_tab ov13850_13M_res_init[] = {
	{0x0300, 0x06},
	{0x0301, 0x01},
	{0x0302, 0x13},
	{0x0303, 0x00},
	{0x0304, 0x03},
	{0x030a, 0x00},
	{0x300f, 0x11},
	{0x3010, 0x01},
	{0x3011, 0x76},
	{0x3012, 0x41},
	{0x3013, 0x12},
	{0x3014, 0x11},
	{0x301f, 0x03},
	{0x3106, 0x00},
	{0x3210, 0x47},
	{0x3500, 0x00},
	{0x3501, 0xc0},
	{0x3502, 0x00},
	{0x3506, 0x00},
	{0x3507, 0x02},
	{0x3508, 0x00},
	{0x350a, 0x00},
	{0x350b, 0x80},
	{0x350e, 0x00},
	{0x350f, 0x10},
	{0x3600, 0x40},
	{0x3601, 0xfc},
	{0x3602, 0x02},
	{0x3603, 0x48},
	{0x3604, 0xa5},
	{0x3605, 0x9f},
	{0x3607, 0x00},
	{0x360a, 0x40},
	{0x360b, 0x91},
	{0x360c, 0x49},
	{0x360f, 0x8a},
	{0x3611, 0x10},
	{0x3612, 0x23},
	{0x3613, 0x33},
	{0x3615, 0x08},
	{0x3641, 0x02},
	{0x3660, 0x82},
	{0x3668, 0x54},
	{0x3669, 0x40},
	{0x3667, 0xa0},
	{0x3702, 0x40},
	{0x3703, 0x44},
	{0x3704, 0x2c},
	{0x3705, 0x24},
	{0x3706, 0x50},
	{0x3707, 0x44},
	{0x3708, 0x3c},
	{0x3709, 0x1f},
	{0x370a, 0x24},
	{0x370b, 0x3c},
	{0x3720, 0x66},
	{0x3722, 0x84},
	{0x3728, 0x40},
	{0x372a, 0x04},
	{0x372f, 0xa0},
	{0x3710, 0x28},
	{0x3716, 0x03},
	{0x3718, 0x10},
	{0x3719, 0x08},
	{0x371c, 0xfc},
	{0x3760, 0x13},
	{0x3761, 0x34},
	{0x3767, 0x24},
	{0x3768, 0x06},
	{0x3769, 0x45},
	{0x376c, 0x23},
	{0x3d84, 0x00},
	{0x3d85, 0x17},
	{0x3d8c, 0x73},
	{0x3d8d, 0xbf},
	{0x3800, 0x00},
	{0x3801, 0x14},
	{0x3802, 0x00},
	{0x3803, 0x0c},
	{0x3804, 0x10},
	{0x3805, 0x8b},
	{0x3806, 0x0c},
	{0x3807, 0x43},
	{0x3808, 0x10},
	{0x3809, 0x70},
	{0x380a, 0x0c},
	{0x380b, 0x30},
	{0x380c, 0x12},
	{0x380d, 0xf6},
	{0x380e, 0x0c},
	{0x380f, 0xE0},
	{0x3810, 0x00},
	{0x3811, 0x04},
	{0x3812, 0x00},
	{0x3813, 0x04},
	{0x3814, 0x11},
	{0x3815, 0x11},
	{0x3820, 0x00},
	{0x3821, 0x04},
	{0x3834, 0x00},
	{0x3835, 0x1c},
	{0x3836, 0x04},
	{0x3837, 0x01},
	{0x4000, 0xf1},
	{0x4001, 0x00},
	{0x400b, 0x0c},
	{0x4011, 0x00},
	{0x401a, 0x00},
	{0x401b, 0x00},
	{0x401c, 0x00},
	{0x401d, 0x00},
	{0x4020, 0x02},
	{0x4021, 0x3c},
	{0x4022, 0x0e},
	{0x4023, 0x37},
	{0x4024, 0x0f},
	{0x4025, 0x1c},
	{0x4026, 0x0f},
	{0x4027, 0x1f},
	{0x4028, 0x00},
	{0x4029, 0x02},
	{0x402a, 0x04},
	{0x402b, 0x08},
	{0x402c, 0x02},
	{0x402d, 0x02},
	{0x402e, 0x0c},
	{0x402f, 0x08},
	{0x403d, 0x2c},
	{0x403f, 0x7f},
	{0x4500, 0x82},
	{0x4501, 0x38},
	{0x4601, 0x04},
	{0x4602, 0x22},
	{0x4603, 0x01},
	{0x4837, 0x0F},
	{0x4d00, 0x04},
	{0x4d01, 0x42},
	{0x4d02, 0xd1},
	{0x4d03, 0x90},
	{0x4d04, 0x66},
	{0x4d05, 0x65},
	{0x5000, 0x0e},
	{0x5001, 0x01},
	{0x5002, 0x07},
	{0x5013, 0x40},
	{0x501c, 0x00},
	{0x501d, 0x10},
	{0x5242, 0x00},
	{0x5243, 0xb8},
	{0x5244, 0x00},
	{0x5245, 0xf9},
	{0x5246, 0x00},
	{0x5247, 0xf6},
	{0x5248, 0x00},
	{0x5249, 0xa6},
	{0x5300, 0xfc},
	{0x5301, 0xdf},
	{0x5302, 0x3f},
	{0x5303, 0x08},
	{0x5304, 0x0c},
	{0x5305, 0x10},
	{0x5306, 0x20},
	{0x5307, 0x40},
	{0x5308, 0x08},
	{0x5309, 0x08},
	{0x530a, 0x02},
	{0x530b, 0x01},
	{0x530c, 0x01},
	{0x530d, 0x0c},
	{0x530e, 0x02},
	{0x530f, 0x01},
	{0x5310, 0x01},
	{0x5400, 0x00},
	{0x5401, 0x71},
	{0x5402, 0x00},
	{0x5403, 0x00},
	{0x5404, 0x00},
	{0x5405, 0x80},
	{0x540c, 0x05},
	{0x5b00, 0x00},
	{0x5b01, 0x00},
	{0x5b02, 0x01},
	{0x5b03, 0xff},
	{0x5b04, 0x02},
	{0x5b05, 0x6c},
	{0x5b09, 0x02},
	{0x5e00, 0x00},
	{0x5e10, 0x1c},
};

struct regval_tab ov13850_fmt_raw10[] = {
};

struct regval_tab ov13850_res_4M[] = {
/*2112x1568 15fps 641Mbps*/
	{0x0300, 0x01},
	{0x3612, 0x23},
	{0x370a, 0x26},
	{0x372a, 0x00},
	{0x372f, 0x90},
	{0x3800, 0x00},
	{0x3801, 0x08},
	{0x3802, 0x00},
	{0x3803, 0x04},
	{0x3804, 0x10},
	{0x3805, 0x97},
	{0x3806, 0x0c},
	{0x3807, 0x4b},
	{0x3808, 0x08},
	{0x3809, 0x40},
	{0x380a, 0x06},
	{0x380b, 0x20},
	{0x380c, 0x12},
	{0x380d, 0xc0},
	{0x380e, 0x0a},
	{0x380f, 0x20},
	{0x3810, 0x00},
	{0x3811, 0x04},
	{0x3812, 0x00},
	{0x3813, 0x02},
	{0x3814, 0x31},
	{0x3815, 0x31},
	{0x3820, 0x02},
	{0x3821, 0x05},
	{0x3836, 0x08},
	{0x3837, 0x02},
	{0x4020, 0x00},
	{0x4021, 0xE4},
	{0x4022, 0x07},
	{0x4023, 0x5F},
	{0x4024, 0x08},
	{0x4025, 0x44},
	{0x4026, 0x08},
	{0x4027, 0x47},
	{0x4603, 0x01},
	{0x4837, 0x19},
	{0x5401, 0x61},
	{0x5405, 0x40},

};
struct regval_tab ov13850_res_8M[] = {
	{0x0100, 0x00},
	{0x0300, 0x00},/*for 988Mbps */
	{0x3612, 0x07},/*for 123.5Mhz sysclk*/
	{0x370a, 0x24},
	{0x372a, 0x04},
	{0x372f, 0xa0},
	{0x3800, 0x01},
	{0x3801, 0xec},
	{0x3802, 0x01},
	{0x3803, 0x5c},
	{0x3804, 0x0e},
	{0x3805, 0xb3},
	{0x3806, 0x0a},
	{0x3807, 0xf3},
	{0x3808, 0x0c},
	{0x3809, 0xc0},
	{0x380a, 0x09},
	{0x380b, 0x90},
	{0x380c, 0x15},
	{0x380d, 0x80},
	{0x380e, 0x0b},/*30fps*/
	{0x380f, 0x60},
	{0x3810, 0x00},
	{0x3811, 0x04},
	{0x3812, 0x00},
	{0x3813, 0x04},
	{0x3814, 0x11},
	{0x3815, 0x11},
	{0x3820, 0x00},
	{0x3821, 0x04},
	{0x3836, 0x04},
	{0x3837, 0x01},
	{0x4020, 0x00},
	{0x4021, 0xe6},
	{0x4022, 0x0b},
	{0x4023, 0xde},
	{0x4024, 0x0c},
	{0x4025, 0xc0},
	{0x4026, 0x0c},
	{0x4027, 0xc6},
	{0x4603, 0x01},
	{0x4837, 0x10},
	{0x5401, 0x71},
	{0x5405, 0x80},
	{0x0100, 0x01},
};
struct regval_tab ov13850_res_13M[] = {
};
struct regval_tab ov13850_id[] = {
	{0x300A, 0xd8, 0xff},
	{0x300B, 0x50, 0xff},
	{0x302A, 0xB1, 0xff},
};
struct regval_tab ov13850_vts[] = {
	{0x380e, 0x0d, 0x7f},
	{0x380f, 0x60, 0xff},
};
struct regval_tab ov13850_stream_on[] = {
	{0x0100, 0x01, 0xff},
};
struct regval_tab ov13850_stream_off[] = {
	{0x0100, 0x00, 0xff},
};
struct regval_tab ov13850_expo[] = {
	{0x3500, 0x00, 0xff},
	{0x3501, 0x00, 0xff},
	{0x3502, 0x00, 0x0f},
};
struct regval_tab ov13850_ag[] = {
	{0x350a, 0x00, 0xff},
	{0x350b, 0x00, 0xff},
};
struct regval_tab ov13850_af[] = {
	{0x3618, 0x00, 0xff},
	{0x3619, 0x00, 0xff},
};
struct regval_tab ov13850_vflip[] = {
	{0x3820, 0x00, 0x4},
};
struct regval_tab ov13850_hflip[] = {
	{0x3821, 0x04, 0x4},
};
struct b52_sensor_i2c_attr ov13850_i2c_attr[] = {
	[0] = {
		.reg_len = I2C_16BIT,
		.val_len = I2C_8BIT,
		.addr = 0x10,
	},
};
#define N_OV13850_I2C_ATTR ARRAY_SIZE(ov13850_i2c_attr)
#define N_OV13850_13M_INIT ARRAY_SIZE(ov13850_13M_res_init)
#define N_OV13850_8M_INIT ARRAY_SIZE(ov13850_8M_res_init)
#define N_OV13850_ID ARRAY_SIZE(ov13850_id)
#define N_OV13850_FMT_RAW10 ARRAY_SIZE(ov13850_fmt_raw10)
#define N_OV13850_13M ARRAY_SIZE(ov13850_res_13M)
#define N_OV13850_4M ARRAY_SIZE(ov13850_res_4M)
#define N_OV13850_8M ARRAY_SIZE(ov13850_res_8M)
#define N_OV13850_VTS ARRAY_SIZE(ov13850_vts)
#define N_OV13850_EXPO ARRAY_SIZE(ov13850_expo)
#define N_OV13850_AG ARRAY_SIZE(ov13850_ag)
#define N_OV13850_AF ARRAY_SIZE(ov13850_af)
#define N_OV13850_VFLIP ARRAY_SIZE(ov13850_vflip)
#define N_OV13850_HFLIP ARRAY_SIZE(ov13850_hflip)
#define N_OV13850_STREAM_ON ARRAY_SIZE(ov13850_stream_on)
#define N_OV13850_STREAM_OFF ARRAY_SIZE(ov13850_stream_off)
struct b52_sensor_mbus_fmt ov13850_fmt = {
	.mbus_code	= V4L2_MBUS_FMT_SBGGR10_1X10,
	.colorspace	= V4L2_COLORSPACE_SRGB,
	.regs = {
		.tab = ov13850_fmt_raw10,
		.num = N_OV13850_FMT_RAW10,
	}
};
struct b52_sensor_resolution ov13850_8M_res[] = {
	[0] = {
		 .width = 3264,
		 .height = 2448,
		 .hts = 0x1580,
		 .min_vts = 0x0ba0,
		 .prop = SENSOR_RES_BINING1,
		 .regs = {
			.tab = ov13850_res_8M,
			.num = N_OV13850_8M,
		},
	},
	[1] = {
		 .width = 2112,
		 .height = 1568,
		 .hts = 0x1580,
		 .min_vts = 0x0ba0,
		 .prop = SENSOR_RES_BINING2,
		 .regs = {
			.tab = ov13850_res_4M,
			.num = N_OV13850_4M,
		},
	},
};
struct b52_sensor_resolution ov13850_13M_res[] = {
	[0] = {
		 .width = 4208,
		 .height = 3120,
		 .hts = 0x1580,
		 .min_vts = 0x0d60,
		 .prop = SENSOR_RES_BINING1,
		 .regs = {
			.tab = ov13850_res_13M,
			.num = N_OV13850_13M,
		},
	},
};
static struct b52_sensor_i2c_attr vcm_attr = {
	.reg_len = I2C_8BIT,
	.val_len = I2C_8BIT,
	.addr = 0x0c,
};
static struct b52_sensor_vcm vcm_dw9714 = {
	.type = VCM_DW9714,
	.attr = &vcm_attr,
};
static struct b52_sensor_module ov13850_SUNNY = {
	.vcm = &vcm_dw9714,
	.id = 0,
};
static int OV13850_get_pixelclock(struct v4l2_subdev *sd, u32 *rate, u32 mclk);
static int OV13850_get_dphy_desc(struct v4l2_subdev *sd,
			struct csi_dphy_desc *dphy_desc, u32 mclk);
static int OV13850_update_otp(struct v4l2_subdev *sd,
				struct b52_sensor_otp *opt);

struct b52_sensor_spec_ops ov13850_ops = {
	.get_pixel_rate = OV13850_get_pixelclock,
	.get_dphy_desc = OV13850_get_dphy_desc,
	.update_otp = OV13850_update_otp,
	.s_power = NULL,
};

struct b52_sensor_data b52_ov13850_8M = {
	.name = "ovt.ov13850",
	.type = OVT_SENSOR,
	.i2c_attr = ov13850_i2c_attr,
	.num_i2c_attr = N_OV13850_I2C_ATTR,
	.id = {
		.tab = ov13850_id,
		.num = N_OV13850_ID,
	},
	.global_setting = {
		.tab = ov13850_8M_res_init,
		.num = N_OV13850_8M_INIT,
	},
	.mbus_fmt = &ov13850_fmt,
	.num_mbus_fmt = 1,
	.res = ov13850_8M_res,
	.num_res = 2,
	.streamon = {
		.tab = ov13850_stream_on,
		.num = N_OV13850_STREAM_ON,
	},
	.streamoff = {
		.tab = ov13850_stream_off,
		.num = N_OV13850_STREAM_OFF,
	},
	.gain2iso_ratio = {
		.numerator = 100,
		.denominator = 0x10,
	},
	.vts_range = {0X0ba0, 0x7fff},
	.gain_range = {
		[B52_SENSOR_AG] = {0x0010, 0x007c},
		[B52_SENSOR_DG] = {0x0010, 0x0010},
	},
	.expo_range = {0x00010, 0xb90},
	.focus_range = {0x0010, 0x03ff},
	.vts_reg = {
		.tab = ov13850_vts,
		.num = N_OV13850_VTS,
	},
	.expo_reg = {
		.tab = ov13850_expo,
		.num = N_OV13850_EXPO,
	},
	.gain_reg = {
		[B52_SENSOR_AG] = {
			.tab = ov13850_ag,
			.num = N_OV13850_AG,
		},
		[B52_SENSOR_DG] = {
			.tab = NULL,
			.num = 0,
		},
	},
	.af_reg = {
		.tab = ov13850_af,
		.num = N_OV13850_AF,
	},
	.hflip = {
		.tab = ov13850_hflip,
		.num = N_OV13850_HFLIP,
	},
	.vflip = {
		.tab = ov13850_vflip,
		.num = N_OV13850_VFLIP,
	},

	.flip_change_phase = 0,
	.gain_shift = 0x00,
	.expo_shift = 0x08,
/*	.calc_dphy = 1, */
	.nr_lane = 4,
	.mipi_clk_bps = 988000000,
	.ops = &ov13850_ops,

	.module = &ov13850_SUNNY,
	.num_module =  1,
	.reset_delay = 100,
};

struct b52_sensor_data b52_ov13850_13M = {
	.name = "ovt.ov13850",
	.type = OVT_SENSOR,
	.i2c_attr = ov13850_i2c_attr,
	.num_i2c_attr = N_OV13850_I2C_ATTR,
	.id = {
		.tab = ov13850_id,
		.num = N_OV13850_ID,
	},
	.global_setting = {
		.tab = ov13850_13M_res_init,
		.num = N_OV13850_13M_INIT,
	},
	.mbus_fmt = &ov13850_fmt,
	.num_mbus_fmt = 1,
	.res = ov13850_13M_res,
	.num_res = 1,
	.streamon = {
		.tab = ov13850_stream_on,
		.num = N_OV13850_STREAM_ON,
	},
	.streamoff = {
		.tab = ov13850_stream_off,
		.num = N_OV13850_STREAM_OFF,
	},
	.gain2iso_ratio = {
		.numerator = 100,
		.denominator = 0x10,
	},
	.vts_range = {0X0ba0, 0x7fff},
	.gain_range = {
		[B52_SENSOR_AG] = {0x0010, 0x007c},
		[B52_SENSOR_DG] = {0x0010, 0x0010},
	},
	.expo_range = {0x00010, 0xb90},
	.focus_range = {0x0010, 0x03ff},
	.vts_reg = {
		.tab = ov13850_vts,
		.num = N_OV13850_VTS,
	},
	.expo_reg = {
		.tab = ov13850_expo,
		.num = N_OV13850_EXPO,
	},
	.gain_reg = {
		[B52_SENSOR_AG] = {
			.tab = ov13850_ag,
			.num = N_OV13850_AG,
		},
		[B52_SENSOR_DG] = {
			.tab = NULL,
			.num = 0,
		},
	},
	.af_reg = {
		.tab = ov13850_af,
		.num = N_OV13850_AF,
	},
	.hflip = {
		.tab = ov13850_hflip,
		.num = N_OV13850_HFLIP,
	},
	.vflip = {
		.tab = ov13850_vflip,
		.num = N_OV13850_VFLIP,
	},

	.flip_change_phase = 0,
	.gain_shift = 0x00,
	.expo_shift = 0x08,
/*	.calc_dphy = 1, */
	.nr_lane = 4,
	.mipi_clk_bps = 1100000000,
	.ops = &ov13850_ops,

	.module = &ov13850_SUNNY,
	.num_module =  1,
	.reset_delay = 100,
};

#endif
